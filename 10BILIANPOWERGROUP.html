<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MLM Binary Dashboard — GOU KARAN PANDEY</title>
  <script src="https://unpkg.com/vis-network@9.1.2/dist/vis-network.min.js"></script>
  <link href="https://unpkg.com/vis-network@9.1.2/dist/vis-network.min.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <style>
    :root{font-family:Inter,system-ui,Segoe UI,Roboto,Arial;margin:0}
    body{background:#f3f4f6;color:#111;padding:18px}
    .wrap{max-width:1200px;margin:0 auto}
    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
    h1{font-size:20px;margin:0}
    .controls{display:flex;gap:8px;align-items:center}
    .card{background:#fff;padding:12px;border-radius:8px;box-shadow:0 6px 20px rgba(12,12,12,0.06);}
    form .row{display:flex;gap:8px;margin-bottom:8px}
    input,select{padding:8px;border:1px solid #e5e7eb;border-radius:6px;width:100%}
    label{font-size:12px;color:#374151}
    button{background:#0b84ff;color:#fff;padding:8px 12px;border:none;border-radius:6px;cursor:pointer}
    #network{height:600px;border-radius:8px;border:1px solid #e5e7eb;background:white}
    .note{font-size:13px;color:#6b7280}
    .small{font-size:12px;color:#6b7280}
    .left-col{width:360px}
    .layout{display:flex;gap:12px}
    textarea{width:100%;height:120px}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>MLM Binary Dashboard — GOU KARAN PANDEY (Rank: GOLD)</h1>
      <div class="controls">
        <button id="exportPng">Export PNG</button>
        <button id="exportCsv">Export CSV</button>
        <button id="resetDemo">Reset Demo</button>
      </div>
    </header>

    <div class="layout">
      <div class="card left-col">
        <h3 style="margin-top:0">Add Member</h3>
        <form id="memberForm">
          <div class="row"><div style="flex:1"><label>Name</label><input id="name" required/></div><div style="width:100px"><label>Member ID</label><input id="mid" required/></div></div>
          <div class="row"><div style="flex:1"><label>Join Date</label><input id="join" type="date" required/></div><div style="width:100px"><label>Rank</label><input id="rank" placeholder="e.g. Silver"/></div></div>
          <div class="row"><div style="flex:1"><label>Mobile or Email</label><input id="contact"/></div><div style="width:140px"><label>Aadhaar (12 digits)</label><input id="aadhaar" maxlength="12"/></div></div>
          <div class="row"><div style="flex:1"><label>Sponsor (Upline Member ID)</label><input id="sponsor" placeholder="e.g. 1001"/></div>
          <div style="width:120px"><label>Leg</label>
            <select id="leg"><option value="left">Left</option><option value="right">Right</option></select></div></div>
          <div style="display:flex;gap:8px;align-items:center;margin-top:6px"><button type="submit">Add / Update Member</button></div>
        </form>

        <hr/>
        <h4 style="margin:6px 0">Selected Node Details</h4>
        <div id="details" class="small">Click a node to see details here.</div>
      </div>

      <div style="flex:1">
        <div id="network" class="card"></div>
      </div>
    </div>
  </div>

<script>
const members = [
  {name:'GOU KARAN PANDEY', id:'1001', sponsor:'', leg:'', join:'2025-01-01', rank:'GOLD', contact:'', aadhaar:''}
];

let network = null;

function renderGraph(){
  const nodes = new vis.DataSet();
  const edges = new vis.DataSet();

  members.forEach(m => {
    const label = `${m.name}\nID:${m.id}\n${m.rank} | ${m.join}`;
    nodes.add({id:m.id, label:label, shape:'box'});
    if(m.sponsor){ edges.add({from:m.sponsor,to:m.id}); }
  });

  const container=document.getElementById('network');
  const data={nodes,edges};
  const options={layout:{hierarchical:{enabled:true,direction:'UD'}},nodes:{shape:'box'},edges:{smooth:{type:'cubicBezier'}},physics:false};

  if(network) network.destroy();
  network=new vis.Network(container,data,options);
}
renderGraph();
</script>
</body>
</html>
